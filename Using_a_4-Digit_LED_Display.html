<section id="SEC13.1" data-type="chapter"><h1>Using a Four-Digit LED Display</h1><div class="video_note" data-type="note"><p>Be sure to check out the accompanying video for this recipe at <a href="http://razzpisampler.oreilly.com">http://razzpisampler.oreilly.com</a>.</p></div><section id="_problem_198" data-type="sect1"><h2>Problem</h2><p>You want to display a four-digit number in an old-fashioned, seven-segment LED <span class="keep-together">display</span>.<a data-type="indexterm" id="ix_D4dig" data-primary="displays" data-secondary="4-digit LED"/><a data-type="indexterm" data-primary="LEDs" data-secondary="4-digit LED displays"/><a data-type="indexterm" data-primary="I2C devices" data-secondary="LED display"/></p></section><section id="_solution_198" data-type="sect1"><h2>Solution</h2><p>Use an I2C LED module, such as the model shown in <a href="#FIG13.1a" data-type="xref"/> attached via a breadboard to a Raspberry Pi.</p><figure id="FIG13.1a" float="true"><figcaption>Seven-segment LED display with Raspberry Pi</figcaption><img src="images/rpck_1301.png"/></figure><p>To make this recipe, you need:</p><ul><li><p>
Breadboard and jumper wires (see <a href="http://shop.oreilly.com/product/0636920029595.do">“Prototyping Equipment”</a>)
</p></li><li><p>
Adafruit 4 × 7-segment LED with I2C backpack (see <a href="http://shop.oreilly.com/product/0636920029595.do">“Modules”</a>)
</p></li></ul><p><a href="#FIG13.1b" data-type="xref"/> shows the arrangement of components on the breadboard.</p><figure id="FIG13.1b" float="true"><figcaption>The breadboard layout for an LED display with Raspberry Pi</figcaption><img src="images/rpck_1302.png"/></figure><p>For this recipe to work, you will also need to set up your Raspberry Pi for I2C, so follow <a href="http://shop.oreilly.com/product/0636920029595.do">“Setting up I2C”</a> first.</p><p>The display has an accompanying Python library written by Adafruit. It isn’t installed as a <em>proper</em> library, so to use it, you first need to download the folder structure. If you do not have Git installed, install it now with the following command (see <a href="http://shop.oreilly.com/product/0636920029595.do">“Fetching Source Code with git”</a>).</p><pre data-type="programlisting">$ sudo apt-get install git</pre><p>Now, you can download the folder structure from GitHub:</p><pre data-type="programlisting">$ git clone https://github.com/adafruit/Adafruit-Raspberry-Pi-Python-Code.git</pre><p>Change directory into the Adafruit code using:</p><pre data-type="programlisting">$ cd Adafruit-Raspberry-Pi-Python-Code
$ cd Adafruit_LEDBackpack</pre><p>In this folder, you will find a test program that will display the time. Run it using the command:</p><pre data-type="programlisting">$ sudo python ex_7segment_clock.py</pre></section><section id="_discussion_195" data-type="sect1"><h2>Discussion</h2><p>If you open the example file <em>ex_7segment_clock.py</em> in nano, you’ll see that the key commands are:</p><pre data-type="programlisting" data-code-language="python">from Adafruit_7Segment import SevenSegment</pre><p>which import the library code into your program. You then need to create a instance of <code>SevenSegment</code> using the next line of code. The address supplied as an argument is the I2C address (see <a href="http://shop.oreilly.com/product/0636920029595.do">“Setting up I2C”</a>).</p><p>Every I2C slave device has an address number. The LED board has three pairs of solder pads on the back that can be bridged with solder if you want to change the address. This is essential if you need to operate more than one of the displays from a single Raspberry Pi.</p><pre data-type="programlisting" data-code-language="python">segment = SevenSegment(address=0x70)</pre><p>To actually set the contents of a particular digit, use a line like this one:</p><pre data-type="programlisting" data-code-language="python">segment.writeDigit(0, int(hour / 10))</pre><p>The first argument (0) is the digit position. Note that these positions are 0, 1, 3, and 4. Position 2 is reserved for the two dots in the center of the display.</p><p>The second argument is the number to display.<a data-type="indexterm" data-startref="ix_D4dig"/></p></section><section id="_see_also_198" data-type="sect1"><h2>See Also</h2><p>You can find out more about the Adafruit library at <a href="http://bit.ly/HQBE6W">http://bit.ly/HQBE6W</a>.</p></section></section>
