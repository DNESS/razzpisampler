<section id="SEC14.1" data-type="chapter"><h1>Programming an Arduino from Raspberry Pi</h1>

<iframe width="560" height="315" src="//www.youtube.com/embed/mfIacE-SPvg" frameborder="0" allowfullscreen="allowfullscreen"></iframe>

<section id="_problem_202" data-type="sect1"><h2>Problem</h2><p>You want to run the Arduino IDE on a Raspberry Pi so that you can write and upload programs onto an Arduino.</p></section><section id="_solution_202" data-type="sect1"><h2>Solution</h2><p>The Arduino IDE is available for the Raspberry Pi. It is a little bit slow, but usable. Use these commands to install it:</p><pre data-type="programlisting">$ sudo apt-get update
$ sudo apt-get install arduino</pre><p>At the time of writing, this installs version 1.0.1, which is not the latest version but will suit the Arduino Uno; it will not, however, work for newer boards like the Leonardo and Due. They can still be used with the Raspberry Pi, but you will need some other computer to program them before connecting them to the Raspberry Pi.</p><p>After installation, you will find an Electronics group in your Programs menu (<a href="#FIG14.1a" data-type="xref"/>).</p><figure id="FIG14.1a" float="true"><figcaption>The Arduino IDE running on Raspberry Pi</figcaption><img src="images/rpck_1402.png"/></figure><p>The Arduino IDE connects to the Raspberry Pi through its USB cable to program it. This connection also requires that the serial console be disabled. You can follow <a href="http://shop.oreilly.com/product/0636920029595.do">“Freeing the Serial Port”</a> to do this, but a second option is to run a script created by Kevin Osborn that both disables the serial console and configures the serial ports and Arduino profiles necessary to get things running. This has the advantage that it also sets up the aLaMode board to be ready for use (<a href="http://shop.oreilly.com/product/0636920029595.do">“Getting Started with an aLaMode Board and a Raspberry Pi”</a>).</p><p>To download and run this script, follow these steps:</p><pre data-type="programlisting">$ wget https://github.com/wyolum/alamode/blob/master/bundles
  /alamode-setup.tar.gz?raw=true -O alamode-setup.tar.gz
$ tar -xvzf alamode-setup.tar.gz
$ cd alamode-setup
$ sudo ./setup</pre><p>If you have not previously disabled your serial console and are relying on the preceding script to do it, then you will need to reboot for this change to take effect.</p><pre data-type="programlisting">$ sudo reboot</pre><p>You can now connect your Arduino to your Raspberry Pi. From the Tools menu, select Board and set the board type to Arduino Uno. Then, from the Serial Port option, select <em>/dev/ttyACM0</em>. To upload a test program that will make the LED on the Arduino blink, select the File menu and then click "Examples, Basic," and finally click Blink. Click on the right-arrow on the toolbar to begin the compile and upload process. If all is well, you should see a "Done Uploading" message in the status area at the bottom of the IDE window.</p><div data-type="note"><p>If you find that the device ttyACM0 is not listed even though your Arduino is plugged in, try restarting the Arduino IDE. If that doesn’t work, then you may have to reboot your Raspberry Pi. Leave the Arduino connected while you reboot and restart the Arduino IDE.</p></div></section><section id="_discussion_199" data-type="sect1"><h2>Discussion</h2><p>To get the most out of using Arduino with Raspberry Pi, you need to learn a little Arduino programming. You may find the book <em>Programming Arduino: Getting Started with Sketches</em> (McGraw-Hill/Tab Books), by yours truly, helpful.</p><p>You can, however, make use of an Arduino without needing to write any code on the Arduino side, using a project called PyFirmata. <a href="http://shop.oreilly.com/product/0636920029595.do">“Setting up PyFirmata to Control an Arduino from a Raspberry Pi”</a> explains how to use PyFirmata.</p></section><section id="_see_also_202" data-type="sect1"><h2>See Also</h2><p>The Arduino IDE setup script came from the blog <a href="http://bit.ly/IFZ5zK">Bald Wisdom</a>.</p></section></section>
